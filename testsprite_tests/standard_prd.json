{
  "meta": {
    "project": "VR Integrated Furniture Ecommerce",
    "date": "2025-10-04",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "A cross-platform furniture marketplace app supporting iOS, Android, and Web via React Native (Expo) and Supabase backend. Features include 3D/VR product previews, cart and checkout with cash on delivery, user-generated furniture listings, profiles highlighting environmental impact, and admin management capabilities for orders and listings.",
  "core_goals": [
    "Enable seamless browsing of furniture products with 3D/VR previews.",
    "Allow authenticated users to manage carts, checkout via COD, and track orders.",
    "Empower users to submit furniture listings with photos for admin approval.",
    "Provide detailed profiles displaying environmental impact and past orders.",
    "Offer admin users comprehensive dashboards for monitoring and managing orders and listings.",
    "Ensure secure, performant, and accessible experience across platforms."
  ],
  "key_features": [
    "Home screen with categories and featured products and detailed ProductDetail views including environmental impact metrics.",
    "Embedded Sketchfab 3D/VR viewer with seamless navigation back to product details.",
    "Cart functionality with add, update, remove, and total price calculation stored server-side in Supabase.",
    "Checkout with validation and order creation supporting cash on delivery and success confirmation.",
    "User Profile displaying order history and aggregated environmental impact.",
    "Sell Furniture listing creation with photo upload to Supabase Storage and admin pending approval workflow.",
    "Admin capabilities including dashboard with stats, order management with status updates, and listings management with approval/rejection.",
    "Authentication and session management via Supabase with context-based global auth state."
  ],
  "user_flow_summary": [
    "Visitors browse Home categories and products; open ProductDetail; optionally view 3D/VR preview; navigate back to Detail or Home.",
    "Authenticated users add items to cart from Home or ProductDetail screens, view and modify cart items with delete confirmation, proceed to checkout filling validated shipping details, place orders with order and item records creation, then see order success page with navigation options.",
    "Users access Profile to view environmental metrics and previous orders.",
    "Users submit new furniture listings with photos and location data; listings default to pending for admin review.",
    "Admins access dashboard from Profile, view aggregate stats and recent activity, manage all orders updating statuses or canceling, and approve or reject user listings."
  ],
  "validation_criteria": [
    "Home loads featured products and categories within 3 seconds on broadband.",
    "ProductDetail shows accurate details with 3D/VR button only if model exists; VR screen back replaces ProductDetail correctly.",
    "Cart adds/removes items with server confirmation; total cost computed and shown correctly.",
    "Checkout requires valid shipping info; order and order_items created in backend; cart cleared after order.",
    "Profile displays user-specific environmental impact and order history.",
    "Listing creation uploads images to Supabase Storage and sets listing status to pending.",
    "Admin dashboard reflects accurate stats; orders update status correctly; listings approval/rejection operates without errors.",
    "Security enforced via Supabase RLS; admin access restricted by email allowlist."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React Native (Expo)",
      "React Native Web",
      "React Navigation",
      "Supabase (Auth, Postgres, Storage)",
      "Ionicons",
      "WebView",
      "Sonner Native (toasts)"
    ],
    "features": [
      {
        "name": "Authentication & Context",
        "description": "Supabase auth with session management, password recovery, global AuthContext for login/logout/signup.",
        "files": [
          "App.tsx",
          "screens/LoginScreen.tsx",
          "screens/ResetPasswordScreen.tsx",
          "supabase.js"
        ]
      },
      {
        "name": "Home & Catalog",
        "description": "Home screen with categories and featured products; product listing and details.",
        "files": [
          "screens/HomeScreen.tsx",
          "screens/ProductListScreen.tsx",
          "screens/ProductDetailScreen.tsx"
        ]
      },
      {
        "name": "3D/VR Preview",
        "description": "Sketchfab embedded viewer via iframe/WebView; replace navigation back to ProductDetail.",
        "files": [
          "screens/VRViewScreen.tsx",
          "screens/ProductDetailScreen.tsx"
        ]
      },
      {
        "name": "Cart",
        "description": "Add to cart from Home/Detail, list items with image/name/desc/price, delete with confirm, total calculation.",
        "files": [
          "screens/CartScreen.tsx",
          "supabase.js"
        ]
      },
      {
        "name": "Checkout (COD) & Success",
        "description": "Checkout form validation, create order and order_items in Supabase, navigate to OrderSuccess screen.",
        "files": [
          "screens/CheckoutScreen.tsx",
          "screens/OrderSuccessScreen.tsx",
          "supabase.js"
        ]
      },
      {
        "name": "Profile & Orders",
        "description": "Profile shows environmental impact and user's recent orders.",
        "files": [
          "screens/ProfileScreen.tsx",
          "supabase.js"
        ]
      },
      {
        "name": "Sell Furniture (Listings)",
        "description": "Users submit listings with photos uploaded to Supabase Storage.",
        "files": [
          "screens/SellFurnitureScreen.tsx",
          "supabase.js"
        ]
      },
      {
        "name": "Admin - Detection",
        "description": "Email allowlist sets isAdmin in AuthContext (e.g., thammikt@gmail.com).",
        "files": [
          "App.tsx"
        ]
      },
      {
        "name": "Admin - Dashboard",
        "description": "Stats (orders/listings/revenue), recent activity, quick actions.",
        "files": [
          "screens/AdminDashboardScreen.tsx"
        ]
      },
      {
        "name": "Admin - Order Management",
        "description": "View all orders and update status (pending/confirmed/shipped/delivered/cancelled).",
        "files": [
          "screens/AdminOrderManagementScreen.tsx",
          "supabase.js"
        ]
      },
      {
        "name": "Admin - Listings Management",
        "description": "Review user listings and approve/reject.",
        "files": [
          "screens/AdminListingsManagementScreen.tsx",
          "supabase.js"
        ]
      }
    ]
  }
}
